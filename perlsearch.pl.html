<html>
<head> <title>perlsearch.pl</title>
<script src="js/jquery.js" ></script>
<script src="js/jquery-ui.js" ></script>

<script src="js/highlight.pack.js" ></script>

<script src="js/index.js" ></script>
<script src="js/search.js" ></script>
<script src="js/documenter.js" ></script>

<link rel="stylesheet" type="text/css" href="css/smoothness/jquery-ui-1.8.23.custom.css" />
<link rel="stylesheet" type="text/css" href="css/github.css" />
<link rel="stylesheet" type="text/css" href="css/documenter.css" />

<link rel="alternate" type="application/rss+xml" title="RSS" href="feed.rss">

 <script>
  hljs.tabReplace = '    ';
  hljs.initHighlightingOnLoad();
</script>

</head>

<body>
<div id="toolbar" class="ui-widget-content ui-widget-header ui-corner-all" style="display:none;">
	<center>
		<button id="upbutton">Index</button>
		<button id="indexbutton">Outline</button>&nbsp;
		<span id="search"></span>
		<span id="collapseexpand">
			<button id="collapseall">Collapse Code</button>
			<button id="expandall">Expand Code</button>
		</span>
		<button id="print">Print</button>
	</center>
</div>
<div id="index" class="ui-widget-content ui-corner-all" style="padding: 5px">
	<noscript><a href="static_index.html">Click here to show the complete source index.</a>
	</noscript>
</div>
<div id="content"><a name="line_1" /><a name="line_4" /><h1>Perl search tool</h1>

<p>Find things in the perl index.</p>
<a name="line_8" /><div class="code"><pre><code class="perl">use strict;
use warnings;
use feature &quot;:5.10&quot;;</code></pre></div><a name="line_14" /><strong>## </strong><span class="monospaced"> make sure this script also works when called from somewhere else </span><a name="line_15" /><div class="code"><pre><code class="perl">use FindBin qw($Bin);
use lib &quot;$Bin&quot;;

use Getopt::Long;
use Data::Dumper;
use Cwd;

use JSON;
use Tools::NamedTree;
use Tools::PerlIndex;

my $usage = 0;

my $search = &#39;&#39;;

my $type = &#39;&#39;;

GetOptions(
    &#39;help|h!&#39;             =&gt; \$usage,
    &#39;search=s&#39;			  =&gt; \$search,
    &#39;type=s&#39;			  =&gt; \$type,
);

if ($usage) {
    print &lt;&lt;END;
Index searcher.

Options:
--search : the search string for the index.
--type   : the type filter

END
    exit 0;
}</code></pre></div><a name="line_50" /><strong>## </strong><span class="monospaced"> find all packages declared here </span><a name="line_51" /><div class="code"><pre><code class="perl">my $idx = Tools::PerlIndex-&gt;new();

my $ids = $idx-&gt;searchIdentifiers($search, $type);

my @filtered =
 map { 	{
			file =&gt; $_-&gt;{file},
			line =&gt; $_-&gt;{location},
			name =&gt; $_-&gt;{title},
			type =&gt; $_-&gt;{type},
			identifier =&gt; $_-&gt;{identifier},
 		}
 } @$ids;

print to_json (\@filtered, {pretty=&gt;1}),  &quot;\n&quot;;

0;</code></pre></div></div>
<div id="footer" class="ui-widget-content ui-widget-header ui-corner-all">Generated using <a href="https://github.com/pkrusche/documenter">Perl Documenter</a> &copy; 2012 Peter Krusche</div>
</body>
</html>
